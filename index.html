<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á—ë—Ç</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>–£—á–µ—Ç –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤</h1>
            <div class="header-actions">
                <button id="toggleAnalysisBtn">–ê–Ω–∞–ª–∏–∑ —Ñ–∏–Ω–∞–Ω—Å–æ–≤</button>
                <button id="loginBtn">–í–æ–π—Ç–∏</button>
                <button id="logoutBtn" style="display:none;">–í—ã–π—Ç–∏</button>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <div id="mainPage">
            <section class="card">
                <div class="section-header">
                    <h2>–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</h2>
                    <button id="addTransactionBtn">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
                <div id="authMessage" style="display: none; color: #e74c3c; margin-bottom: 10px;">
                    –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
                </div>

                <!-- –ü–û–ò–°–ö -->
                <div class="search-section" style="margin: 16px 0;">
                    <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–ª–∏ —Å—É–º–º–µ...">
                </div>

                <div id="transactionList"></div>
            </section>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏–∑–∞ -->
        <div id="analysisPage" style="display: none;">
            <section class="card">
                <h2>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑</h2>
                <div class="balance-grid">
                    <div class="balance-item income">
                        <p>–î–æ—Ö–æ–¥—ã</p>
                        <p id="analysisIncome">0 ‚ÇΩ</p>
                    </div>
                    <div class="balance-item expense">
                        <p>–†–∞—Å—Ö–æ–¥—ã</p>
                        <p id="analysisExpense">0 ‚ÇΩ</p>
                    </div>
                    <div class="balance-item balance">
                        <p>–ë–∞–ª–∞–Ω—Å</p>
                        <p id="analysisBalance">0 ‚ÇΩ</p>
                    </div>
                </div>
            </section>

            <!-- –ï–ñ–ï–ú–ï–°–Ø–ß–ù–´–ô –û–¢–ß–Å–¢ -->
            <section class="card">
                <h2>–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç (—Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü)</h2>
                <div id="monthlyReport">
                    <p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü</p>
                </div>
            </section>

            <!-- –õ–ò–ú–ò–¢ –†–ê–°–•–û–î–û–í -->
            <section class="card">
                <h2>–õ–∏–º–∏—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤</h2>
                <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                    <input type="number" id="expenseLimitInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–∏–º–∏—Ç (‚ÇΩ)" min="0">
                    <button id="saveLimitBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
                <div id="limitStatus" style="margin-top: 10px; font-weight: 600;"></div>
            </section>

            <!--–ì–†–ê–§–ò–ö -->
            <section class="card">
                <h2>–ì—Ä–∞—Ñ–∏–∫</h2>
                <div>
                    <label><input type="radio" name="chartType" value="expense" checked> –†–∞—Å—Ö–æ–¥—ã</label>
                    <label><input type="radio" name="chartType" value="income"> –î–æ—Ö–æ–¥—ã</label>
                </div>
                <div class="chart-container">
                    <canvas id="chart" width="300" height="300"></canvas>
                </div>
            </section>

            <!-- –ö–ê–¢–ï–ì–û–†–ò–ò -->
            <section class="card">
                <h2>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                <div id="categoriesList"></div>
            </section>
        </div>

        <!--–§–û–†–ú–ê –î–û–ë–ê–í–õ–ï–ù–ò–Ø -->
        <div id="addFormSection" style="display: none;" class="card">
            <h2>–ù–æ–≤–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è</h2>
            <form id="transactionForm">
                <select id="type">
                    <option value="income">–î–æ—Ö–æ–¥</option>
                    <option value="expense">–†–∞—Å—Ö–æ–¥</option>
                </select>
                <input type="number" id="amount" placeholder="–°—É–º–º–∞" required>
                <input type="text" id="category" list="categoryList" placeholder="–ö–∞—Ç–µ–≥–æ—Ä–∏—è" required>
                <datalist id="categoryList"></datalist>
                <input type="date" id="date" required>
                <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
                <button type="button" id="cancelAddBtn">–û—Ç–º–µ–Ω–∞</button>
            </form>
        </div>
    </main>

    <!-- –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –û –õ–ò–ú–ò–¢–ï-->
    <div id="alertBox" class="alert" style="display: none;">
        ‚ö†Ô∏è –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤!
    </div>

    <!-- ü™™ –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –í–•–û–î–ê -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <h3>–í—Ö–æ–¥</h3>
            <form id="loginForm">
                <input type="text" id="username" placeholder="–õ–æ–≥–∏–Ω" required>
                <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <button type="submit">–í–æ–π—Ç–∏</button>
            </form>
            <button id="closeModal">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
